var base_url=window.location.origin+"/"+event_url,$body=$("body"),site_url=window.location.origin,lang_hotel_validation_msg="",reservation_Data=[],economy_data={sessions:[],hotels:[],travels:[],rebates:[],multiple:{is_multiple:!1,order_number:null}},multiple_attendee_id="",multiple_attendee_id_array=[],multiple_registration_attendee={},multiple_registration_order_owner=[],cookie_expire=$("#cookie_expire").val(),cookie_counter=cookie_expire;if($("#hidden_secret").length>0)var cookie_expire_msg=$("#cookie_expire_msg").val(),cookie_timer=setInterval(function(){(cookie_counter-=1)<=-10&&($("<div></div>").html(cookie_expire_msg).dialog({modal:!0,resizable:!1,width:"auto",close:function(t,e){location=base_url+"/logout"},buttons:{OK:function(){location=base_url+"/logout"}}}),clearInterval(cookie_timer))},1e3);function onLoadJs(){console.log("Loading onLoadJS"),$("body").find("#content").removeClass("loading-page"),$body.find(".element").each(function(){""==$.trim($(this).html())&&""==$.trim($(this).closest(".col").text())&&($(this).is(".form-plugin-next-up,.form-plugin-evaluations,.form-plugin-messages")||$(this).closest(".col").remove())});$body.find(".given-answer");var t=$("#page-class-list").val();if(""!=t&&"None"!=t)for(var e=JSON.parse(t),i=0;i<e.length;i++){var a="page-"+e[i].page_id+"-box-"+e[i].box_id;$("[id="+a+"],[id^="+a+"-]").addClass(e[i].class_name)}addMarginForHeader(),$body.find(".form-plugin-multiple-registration").each(function(){var t=$(this);t.find(".loop-registration-form").length>0?t.closest(".section").find(".form-plugin-submit-button").each(function(){if($(this).closest(".form-plugin-multiple-registration").length<1){var e=$(this).attr("id").split("-")[3],i=$(this).attr("data-submit-id");t.attr("data-submit-button-id",i),t.attr("data-submit-button-box-id",e),$(this).remove()}}):t.find(".form-plugin-submit-button").each(function(){$(this).remove()})}),$(".form-plugin-hotel-reservation").length>0&&hotel_reservation_init(),$("body").find(".defaultCountdown").each(function(){var t=$(this),e=t.attr("data-id").split("-"),i=e[0],a=e[1],n=e[2],d=e[3],o=e[4],s=e[5],r=new Date(Date.UTC(i,a-1,n,d,o,s)),l=moment(r);setInterval(function(){var e=moment();if(e.isBefore(l)){var i=moment.duration(l.diff(e)),a=i.hours(),n=i.minutes(),d=i.seconds();t.html(a+" Hours, "+n+" Minutes, "+d+" Seconds")}else{var o=t.closest(".form-plugin-messages");t.closest(".form-plugin-item").remove(),0==o.children(".form-plugin-list").children(".form-plugin-item").length&&o.find(".messages-mark-all-button").remove()}},1e3)}),$("body").find(".form-plugin-attendee-list").each(function(){var t=$(this),e=t.closest(".form-plugin-attendee-list").find(".attendee-plugin-counting-column").val(),i=t.closest(".form-plugin-attendee-list").find(".attendee-plugin-attendee-export-id").val(),a=t.closest(".form-plugin-attendee-list").find(".attendee-plugin-counting-column-header").val(),n=$("input[name=csrfmiddlewaretoken]").val();$.ajax({url:base_url+"/get-attendee-plugin-data/",type:"POST",async:!1,data:{attendee_export_id:i,show_counting_column:e,show_counting_column_header:a,csrfmiddlewaretoken:n},success:function(e){e.status&&(t.find(".attendee-table-content").html(e.html),f_sl_att_plugin*=-1)}})}),$(".question-date").each(function(){$(this).attr("id");var t=$(this).attr("data-from-date"),e=$(this).attr("data-to-date"),i=t.split("-");i[1]=i[1]-1;var a=e.split("-");a[1]=a[1]-1,$(this).pickadate({min:i,max:a})}),$(".question-time").each(function(){$(this).attr("id");var t=$(this).attr("data-from-time"),e=$(this).attr("data-to-time"),i=t.split(":"),a=e.split(":");i.pop(),a.pop(),$(this).pickatime({min:i,max:a})}),$(".question-date-range").each(function(){var t=$(this),e=($(this).attr("id"),$(this).attr("data-range-type")),i=$(this).attr("data-from-date"),a=$(this).attr("data-to-date"),n=i.split("-");n[1]=n[1]-1;var d=a.split("-");d[1]=d[1]-1,$(this).pickadate({min:n,max:d}).pickadate("picker").on({set:function(i){if("from"==e)t.parent().find(".question-date-range-to").pickadate("picker").set("min",this.get(),{muted:!0});else if("to"==e){t.parent().find(".question-date-range-from").pickadate("picker").set("max",this.get(),{muted:!0})}}})}),$(".question-time-range").each(function(){var t=$(this),e=($(this).attr("id"),$(this).attr("data-from-time")),i=$(this).attr("data-to-time"),a=$(this).attr("data-range-type"),n=e.split(":"),d=i.split(":");n.pop(),d.pop(),$(this).pickatime({min:n,max:d}).pickatime("picker").on({set:function(e){if("from"==a)t.parent().find(".question-time-range-to").pickatime("picker").set("min",this.get(),{muted:!0});else if("to"==a){t.parent().find(".question-time-range-from").pickatime("picker").set("max",this.get(),{muted:!0})}}})}),$("body").find(".form-plugin-log-out").each(function(){if(0==$(this).find(".form-plugin-log-out-button").length){var t=$("input[name=csrfmiddlewaretoken]").val();$.ajax({url:base_url+"/get-logout-plugin/",type:"POST",async:!1,data:{csrfmiddlewaretoken:t},success:function(t){t.status}})}}),$(".form-question-country").each(function(){for(var t=0;t<country_list.length;t++)$(this).append($("<option>",{value:country_list[t].id,text:country_list[t].text}));$(this).val($(this).attr("data-default"))})}var f_sl_att_plugin=1;function sortAttendeeList(t,e,i){var a=i.find("tr:visible").get();function n(t){return $(t).children("td").eq(e).text().toUpperCase()}a.sort(function(e,i){var a=n(e),d=n(i);return a>d?-1*t:a<d?1*t:0}),$.each(a,function(t,e){$(this).find("td.attendee-list-counting-col").html(t+1),i.append(e)})}function saveOrUpdateMultipleAttendee(t,e,i,a,n){var d=[];$("[data-attendee-idz4Vv3ZLs3R]").each(function(){d.push($(this).attr("data-attendee-idz4Vv3ZLs3R"))});var o=$("input[name=csrfmiddlewaretoken]").val(),s={attendee_owner_id:$("[data-owner-idz4Vv3ZLs3R]").attr("data-owner-idz4Vv3ZLs3R"),attendee_ids:JSON.stringify(d),button_id:e,page_id:a,box_id:i,form_box_id:n,csrfmiddlewaretoken:o};console.log(s),$.ajax({url:base_url+"/multiple-attendee-save/",type:"POST",data:s,success:function(e){e.success?($.growl.notice({message:e.message}),setEmptyValueToQuestions($body),e.download_flag?(window.location=base_url+"/economy-pdf-request?data=order-invoice&order_number="+e.order_number,$(".submit-loader").show(),setTimeout(function(){$(".submit-loader").hide(),redirectToPage(e.redirect_url)},3e3)):redirectToPage(e.redirect_url),$("[data-owner-idz4Vv3ZLs3R]").closest("tr").find("td:eq(1)").html(e.group_name),$("[data-attendee-idz4Vv3ZLs3R]").each(function(){$("[data-attendee-idz4Vv3ZLs3R='"+$(this).attr("data-attendee-idz4Vv3ZLs3R")+"']").closest("tr").find("td:eq(1)").html(e.group_name)})):(t.closest(".form-plugin-submit-button").addClass("validation-failed"),t.closest(".form-plugin-submit-button").find(".error-on-validate").text(e.message))}})}function getArrayFromDict(t){var e,i=t,a=[];for(var n in i)i.hasOwnProperty(n)&&((e={}).serial=n,e.data=i[n],a.push(e));return a}function getMultipleAttendeeForm(multiple_form,attendee_id){console.log("multiple"),$("tr[data-multiple-attendee-id='"+attendee_id+"']").parent().find('tr[class="active"]').removeClass("active"),$("tr[data-multiple-attendee-id='"+attendee_id+"']").addClass("active");var attendee_page_id=multiple_form.attr("data-attendee-page"),csrf_token=$("input[name=csrfmiddlewaretoken]").val(),data={attendee_id:attendee_id,attendee_page_id:attendee_page_id,csrfmiddlewaretoken:csrf_token};$.ajax({url:base_url+"/get-multiple-registration-attendee-form/",type:"POST",data:data,success:function(result){result.success&&(multiple_form.find(".form-plugin-multiple-registration-form").html(result.attendee_page),eval(result.attendee_js))}})}function addEmptyDiv(t,e){var i='<div class="placeholder empty">'+e+"</div>";t.find(".form-plugin-list").html(i)}function checkEmail(t){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)}function redirectToPage(t){"/"==t?setTimeout(function(){window.location=base_url+"/"},500):""!=t&&setTimeout(function(){window.location=base_url+"/"+t},500)}function validateEmail(t){var e=[];$.ajax({url:base_url+"/get-allowed-emails/",type:"get",async:!1,success:function(t){t.forEach(function(t){e.push(t.name)})}});var i=[],a=[];e.forEach(function(t){if(t.indexOf("*")>=0){var e=t.substring(t.lastIndexOf("@")+1);a.push(e)}else i.push(t)});var n="";a.forEach(function(t){if("*"==t)return n="",!1;n+="\\b",n+=t,n+="|"});var d=n.slice(0,-1);if(console.log("regex"),console.log(d),e.length>0){if(-1!==jQuery.inArray(t,i))return!0;if(d.length>0)var o=new RegExp("^([\\w-]+(?:\\.[\\w-]+)*)@("+d+")$");else o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return o.test(t)}return!0}function addMarginForHeader(){var t=$(".section.fixed-header").outerHeight(!0);$("#content").css("padding-top",t)}function footerAlign(){var t=$(".section.fixed-footer").outerHeight();$("body").css("padding-bottom",t)}function equalHeight(t){tallest=0,t.css("height",""),t.each(function(){thisHeight=$(this).height(),thisHeight>tallest&&(tallest=thisHeight)}),t.height(tallest)}function setEmptyValueToQuestions(t){var e=0;console.log(t.find(".form-question:not(:visible)").length),t.find(".form-question:not(:visible)").each(function(){var t=$(this).find(".given-answer");if(t.length>0){e++;var i=t.prop("type");"text"==i||"select-one"==i||"textarea"==i||"date"==i?t.val(""):"radio"==i?t.prop("checked",!1):"checkbox"==i&&t.prop("checked",!1)}}),console.log(e)}function archivedNotification(t){var e=$(t).attr("data-id"),i=$("input[name=csrfmiddlewaretoken]").val();$.ajax({type:"Post",url:base_url+"/delete-notification/",data:{id:e,csrfmiddlewaretoken:i},success:function(e){if("success"==e.status){$.growl.notice({message:e.message});var i=t.closest(".form-plugin-messages");t.parent().remove(),0==i.children(".form-plugin-list").children(".form-plugin-item").length&&(i.find(".messages-mark-all-button").remove(),addEmptyDiv(i,e.empty_txt_language)),i.find(".messages-read-archived-messages").is(":visible")||i.find(".messages-read-archived-messages").css("display","block")}}})}function pageDisable96(){$(".submit-loader").show(),$("body").prepend('<div class="o1pi09kjjsd"></div>'),$(".o1pi09kjjsd").css({position:"absolute",width:$(document).width(),height:$(document).height(),"z-index":99999}).fadeTo(0,.8)}function pageEnable69(){$(".submit-loader").hide(),$(".o1pi09kjjsd").remove()}function validateSession(t){var e=!0;return t.find(".form-plugin-session-radio-button:visible").each(function(){var t=$(this).find(".form-plugin-list").attr("data-session-choose"),i=$(this),a=[],n=!1;i.find(".form-plugin-item").length>0&&(n=!0),i.find(".form-plugin-item").find("td:first").find("input").each(function(){if($(this).prop("checked")){var t=$(this).attr("data-session-id");a.push(t)}}),n&&a.length<t&&(e=!1,i.addClass("validation-failed"))}),t.find(".form-plugin-session-checkbox:visible").each(function(){var t=$(this).find(".form-plugin-list").attr("data-session-choose-least"),i=$(this).find(".form-plugin-list").attr("data-session-choose-highest");console.log(t),console.log(i),"up-to-max-available-sessions"==t&&(t=5),"up-to-max-available-sessions"==i&&(i=5);var a=$(this),n=[],d=0;a.find(".form-plugin-item").each(function(){d++}),a.find(".form-plugin-item").find("td:first").find("input").each(function(){if($(this).prop("checked")){var t=$(this).attr("data-session-id");n.push(t)}}),d<t&&(t=d),0!=t&&n.length<t?(e=!1,a.addClass("validation-failed")):0!=i&&n.length>i&&(e=!1,a.addClass("validation-failed"))}),e}function global_getDateWithLanguage(t){var e=$("input[name=csrfmiddlewaretoken]").val(),i=t;try{$.ajax({url:base_url+"/get-date-with-language/",type:"POST",async:!1,data:{request_date:t,csrfmiddlewaretoken:e},success:function(t){t.success&&(i=t.converted_date)}})}catch(t){console.log(t)}return i}$(function(){function attendee_export_state_check(t,e){$.ajax({url:base_url+"/attendee-plugin-export-state/",type:"POST",data:{public_checker:t,csrfmiddlewaretoken:e},success:function(i){i.next_ajax_req?setTimeout(function(){attendee_export_state_check(t,e)},2e3):($("body").find(".loader").hide(),window.location=base_url+"/export-plugin-attendee/")}})}$("body").find("#content").each(function(){var page_url=$.trim($("body").attr("id"));$.ajax({url:base_url+"/api/"+page_url+"/",type:"GET",async:!1,success:function(result){console.log(result),$("#content").html(result.html),eval(result.js)}})}),$body.on("click",".form-submit-button",function(e){e.preventDefault();var $this_section=$(this).closest(".section-box");setEmptyValueToQuestions($body),console.log("ok");var box_id=$this_section.attr("id"),required_actual=!0,required_field=[],validated=!0,answers=[],firstName="",lastName="",email="",phone="",$button=$(this),page_id=$(this).attr("data-page-id"),btn_id=$(this).closest(".form-plugin-submit-button").attr("data-submit-id"),btn_box_id=$(this).closest(".form-plugin-submit-button").attr("id").split("-")[3],is_loop_multiple=!1,is_inline_multiple=!1,$this_sec_form_questions;$this_section.closest(".form-plugin-multiple-registration").find(".loop-registration-form").length>0&&(is_loop_multiple=!0),$this_section.find(".form-plugin-multiple-registration").find(".inline-registration-form").length>0&&(is_inline_multiple=!0),$this_section.find(".form-question").removeClass("validation-failed"),$this_section.find(".form-plugin").removeClass("validation-failed"),is_loop_multiple&&($this_sec_form_questions=$this_section.closest(".form-plugin-multiple-registration").closest(".section-box").find(".form-question"),console.log("here loop")),null==$this_sec_form_questions&&(console.log("here common"),$this_sec_form_questions=$this_section.find(".form-question")),$this_sec_form_questions.each(function(){var t=$(this),e="",i=!0,a=!0;"firstname"!=t.attr("data-def")&&"lastname"!=t.attr("data-def")&&"email"!=t.attr("data-def")||-1==$.inArray(t.attr("data-def"),required_field)&&required_field.push(t.attr("data-def"));var n=t.find(".given-answer");if(n.length>0){if("text"==(m=n.prop("type"))||"select-one"==m||"textarea"==m||"date"==m)if(e=n.val(),t.is(":visible")){if(console.log("visible"),""==e||"not selected"==e)"firstname"!=t.attr("data-def")&&"lastname"!=t.attr("data-def")&&"email"!=t.attr("data-def")||(required_actual=!1),1==t.attr("data-req")&&(i=!1),"date_range"!=t.attr("type")&&"time_range"!=t.attr("type")||(o=["",""],e=JSON.stringify(o));else if("firstname"==t.attr("data-def"))firstName=n.val();else if("lastname"==t.attr("data-def"))lastName=n.val();else if("email"==t.attr("data-def"))validateEmail(n.val())?email=n.val():i=!1;else if("phone"==t.attr("data-def"))phone=n.val();else if("date"==t.attr("type")){var d=n.attr("name");e=$(this).closest(".form-question").find("input[name="+d+"_submit]").val()}else if("time"==t.attr("type")){d=n.attr("name");e=$(this).closest(".form-question").find("input[name="+d+"_submit]").val()}else if("date_range"==t.attr("type")){var o=[];t.find(".question-date-range").each(function(){if("to"==$(this).attr("data-range-type")){var t=$(this).attr("name"),e=$(this).closest(".form-question").find("input[name="+t+"_submit]").val();o[1]=""==e?"":e}else if("from"==$(this).attr("data-range-type")){t=$(this).attr("name"),e=$(this).closest(".form-question").find("input[name="+t+"_submit]").val();o[0]=""==e?"":e}}),""!=o[0]&&""!=o[1]?e=JSON.stringify(o):i=!1}else if("time_range"==t.attr("type")){o=[];t.find(".question-time-range").each(function(){if("to"==$(this).attr("data-range-type")){var t=$(this).attr("name"),e=$(this).closest(".form-question").find("input[name="+t+"_submit]").val();o[1]=""==e?"":e}else if("from"==$(this).attr("data-range-type")){t=$(this).attr("name"),e=$(this).closest(".form-question").find("input[name="+t+"_submit]").val();o[0]=""==e?"":e}}),""!=o[0]&&""!=o[1]?e=JSON.stringify(o):i=!1}}else a=!1;else if("radio"==m)if(t.is(":visible"))if(n.is(":checked")){var s=n.attr("name");e=$('input[name="'+s+'"]:checked').val()}else 1==t.attr("data-req")&&(i=!1);else e="",a=!1;else if("checkbox"==m)if(t.is(":visible")){var r=[];if(n.each(function(){$(this).is(":checked")&&r.push($(this).val())}),0==r.length)1==t.attr("data-req")&&(i=!1);else{for(var l="",u=0;u<r.length;u++)0!=u&&(l+="<br>"),l+=r[u];e=l}}else e="",a=!1;if(i){if(a){var c=$.trim(t.attr("data-id")),m=$.trim(t.attr("type"));if(""!=c&&null!=c&&null!=c){var f=$.trim(t.attr("data-uid"));if(null!=f&&""!=f&&null!=f){var p={id:c,answer:e,duid:f,type:m};null!=t.attr("data-def")&&"null"!=t.attr("data-def")&&(p.actual_defination=t.attr("data-def"))}else if(is_loop_multiple){f=t.closest(".section").find(".form-plugin-multiple-registration-attendee-table tr:nth-child(2)").attr("data-multiple-attendee-id"),console.log("duid"),console.log(f);p={id:c,answer:e,duid:f,type:m};null!=t.attr("data-def")&&"null"!=t.attr("data-def")&&(p.actual_defination=t.attr("data-def"))}else{if(is_inline_multiple){f=t.closest(".section").find(".inline-registration-form .form-plugin-multiple-registration-order-owner-form").attr("inline-data-owner-idz4Vv3ZLs3R");p={id:c,answer:e,duid:f,type:m};return null!=t.attr("data-def")&&"null"!=t.attr("data-def")&&(p.actual_defination=t.attr("data-def")),answers.push(p),console.log("*******"),console.log(t.closest(".section").find(".inline-registration-form .form-plugin-multiple-registration-attendee-form-inline").length),t.closest(".section").find(".inline-registration-form .form-plugin-multiple-registration-attendee-form-inline").each(function(){f=$(this).attr("inline-data-attendee-idz4vv3zls3r");var i={id:c,answer:e,duid:f,type:m};null!=t.attr("data-def")&&"null"!=t.attr("data-def")&&(i.actual_defination=t.attr("data-def")),answers.push(i)}),!0}p={id:c,answer:e,type:m}}answers.push(p)}}}else validated=!1,t.addClass("validation-failed")}});var h_r_validation=!0;reservation_Data=[],$this_section.find(".form-plugin-hotel-reservation:visible").each(function(){if(!(h_r_validation=get_hotel_resrevation_data($(this))))return!1}),console.log(answers),console.log(is_loop_multiple),console.log(is_inline_multiple);var session_validation=validateSession($this_section);if(session_validation||(validated=!1),is_loop_multiple)if(validated&&h_r_validation){$(".submit-loader").show(),$button.prop("disabled",!0);var multiple_form=$this_section.closest(".form-plugin-multiple-registration"),count_attendee=multiple_form.find(".form-plugin-multiple-registration-attendee-table tbody tr:not(.default-empty-attendee)").length,form_box_id=multiple_form.attr("id").split("-")[3],page_id=$(this).attr("data-page-id"),btn_id=$(this).closest(".form-plugin-submit-button").attr("data-submit-id"),btn_box_id=$(this).closest(".form-plugin-submit-button").attr("id").split("-")[3],main_submit_btn_id=multiple_form.attr("data-submit-button-id"),main_submit_btn_box_id=multiple_form.attr("data-submit-button-box-id"),main_page_id=multiple_form.attr("data-page-id"),csrf_token=$("input[name=csrfmiddlewaretoken]").val();count_attendee>=multiple_attendee_id_array.indexOf(multiple_attendee_id)+1?(multiple_registration_attendee[multiple_attendee_id]={},multiple_registration_attendee[multiple_attendee_id].attendee_id=multiple_attendee_id,""!=firstName&&(multiple_registration_attendee[multiple_attendee_id].firstname=firstName),""!=lastName&&(multiple_registration_attendee[multiple_attendee_id].lastname=lastName),""!=email&&(multiple_registration_attendee[multiple_attendee_id].email=email),""!=phone&&(multiple_registration_attendee[multiple_attendee_id].phonenumber=phone),reservation_Data.length>0&&(multiple_registration_attendee[multiple_attendee_id].hotel_reservation=JSON.stringify(reservation_Data)),multiple_registration_attendee[multiple_attendee_id].answers=answers,$.each(answers,function(t,e){if(console.log(e.id),console.log(e.answer),console.log(e.type),"date_range"==e.type||"time_range"==e.type){var i=JSON.parse(e.answer),a=i[0]+" to "+i[1];$(".form-plugin-multiple-registration-attendee-table").find("tr[class='active']").find("td[data-column-id='"+e.id+"']").html(a)}else $(".form-plugin-multiple-registration-attendee-table").find("tr[class='active']").find("td[data-column-id='"+e.id+"']").html(e.answer)}),$.ajax({url:base_url+"/get-attendee-next-page/",type:"POST",data:{page_id:page_id,attendee_id:multiple_attendee_id,attendee_data:JSON.stringify(multiple_registration_attendee[multiple_attendee_id]),button_id:btn_id,box_id:btn_box_id,csrfmiddlewaretoken:csrf_token},success:function(result){$(".submit-loader").hide(),$button.prop("disabled",!1),result.success?result.next_page?(multiple_form.find(".form-plugin-multiple-registration-form").html(result.attendee_page),eval(result.attendee_js)):(console.log(count_attendee),console.log(multiple_attendee_id_array.indexOf(multiple_attendee_id)+1),count_attendee>multiple_attendee_id_array.indexOf(multiple_attendee_id)+1?(multiple_attendee_id=multiple_attendee_id_array[multiple_attendee_id_array.indexOf(multiple_attendee_id)+1],getMultipleAttendeeForm(multiple_form,multiple_attendee_id),multiple_form.find(".form-plugin-multiple-registration-form-header").html("Attendee "+$("[data-attendee-idz4Vv3ZLs3R='"+multiple_attendee_id+"']").closest("tr").find("td:first").html())):(multiple_form.find(".form-plugin-multiple-registration-form").html(""),multiple_form.find(".form-plugin-multiple-registration-form-header").html(""),saveOrUpdateMultipleAttendee($button,main_submit_btn_id,main_submit_btn_box_id,main_page_id,form_box_id),console.log(multiple_registration_attendee))):($button.closest(".form-plugin-submit-button").addClass("validation-failed"),$button.closest(".form-plugin-submit-button").find(".error-on-validate").text(result.message))}})):($(".submit-loader").hide(),$button.prop("disabled",!1),console.log(multiple_registration_attendee),saveOrUpdateMultipleAttendee($button,main_submit_btn_id,main_submit_btn_box_id,main_page_id,form_box_id))}else $(".validation-failed:visible:first").length>0&&$("html, body").animate({scrollTop:$(".validation-failed:visible:first").offset().top},300);else if(is_inline_multiple){var min_attendee=$this_section.find(".form-plugin-multiple-registration").attr("data-min-attendees"),total_attendees=multiple_attendee_id_array.length;if("0"==$this_section.find(".form-plugin-multiple-registration-order-owner-form").attr("data-include-ownerz4Vv3ZLs3R")&&(total_attendees=multiple_attendee_id_array.length-1),total_attendees<min_attendee&&(validated=!1),console.log(min_attendee),console.log(total_attendees),console.log(validated),validated&&h_r_validation){console.log("Inline Multiple Registration");var multiple_form=$this_section.find(".form-plugin-multiple-registration"),form_box_id=multiple_form.attr("id").split("-")[3],btn_box_id=$(this).closest(".form-plugin-submit-button").attr("id").split("-")[3],main_submit_btn_id=$(this).closest(".form-plugin-submit-button").attr("data-submit-id"),main_submit_btn_box_id=$(this).closest(".form-plugin-submit-button").attr("id").split("-")[3],main_page_id=multiple_form.attr("data-page-id"),csrf_token=$("input[name=csrfmiddlewaretoken]").val();saveOrUpdateMultipleAttendeeInline($button,main_submit_btn_id,main_submit_btn_box_id,main_page_id,form_box_id,answers)}else $(".validation-failed:visible:first").length>0&&$("html, body").animate({scrollTop:$(".validation-failed:visible:first").offset().top},300)}else{console.log("validated"),console.log(validated),validated&&(null!=$.trim($("#hidden_secret").val())&&""!=$.trim($("#hidden_secret").val())||(console.log(required_actual),console.log(required_field.length),(required_field.length<3||!required_actual)&&(validated=!1,$.growl.error({message:"You need to fill up Firstname, Lastname and Email for Registration"}))));var temporary_attendee_id="not_exists";if(null!=$this_section.find(".temporary-user-id-for-reg").val()&&0==isNaN($this_section.find(".temporary-user-id-for-reg").val())&&(temporary_attendee_id=$this_section.find(".temporary-user-id-for-reg").val().trim()),console.log(answers),console.log(reservation_Data),add_ineffective_rebates($(this)),console.log(validated),console.log(h_r_validation),validated&&h_r_validation){var user_login=!1;if(null!=$.trim($("#hidden_secret").val())&&""!=$.trim($("#hidden_secret").val())&&(user_login=!0),answers.length>0||reservation_Data.length>0||user_login){$(".submit-loader").show(),$button.prop("disabled",!0);var csrf_token=$("input[name=csrfmiddlewaretoken]").val(),data={answers:JSON.stringify(answers),hotel_reservation:JSON.stringify(reservation_Data),economy_data:JSON.stringify(economy_data),button_id:btn_id,page_id:page_id,box_id:btn_box_id,temporary_attendee_id:temporary_attendee_id,csrfmiddlewaretoken:csrf_token};""!=firstName&&(data.firstname=firstName),""!=lastName&&(data.lastname=lastName),""!=email&&(data.email=email),""!=phone&&(data.phonenumber=phone),console.log("data"),console.log(data),$.ajax({url:base_url+"/attendee-registration/",type:"POST",data:data,success:function(t){$(".submit-loader").hide(),$button.prop("disabled",!1),t.success?($.growl.notice({message:t.message}),setEmptyValueToQuestions($body),t.download_flag?(window.location=base_url+"/economy-pdf-request?data=order-invoice&order_number="+t.order_number,$(".submit-loader").show(),setTimeout(function(){$(".submit-loader").hide(),redirectToPage(t.redirect_url)},3e3)):redirectToPage(t.redirect_url),diplay_new_order_info($this_section,t)):($button.closest(".form-plugin-submit-button").addClass("validation-failed"),$button.closest(".form-plugin-submit-button").find(".error-on-validate").text(t.message))}})}}else $(".validation-failed:visible:first").length>0&&$("html, body").animate({scrollTop:$(".validation-failed:visible:first").offset().top},300)}}),$("body").on("click",".attendee-list-download-spreadsheet-button",function(){$("body").find(".loader").show();var t=$(this).closest(".form-plugin-attendee-list").find(".attendee-plugin-attendee-export-id").val(),e=$("input[name=csrfmiddlewaretoken]").val();$.ajax({url:base_url+"/export-plugin-attendee/",type:"POST",data:{attendee_export_id:t,csrfmiddlewaretoken:e},success:function(t){t.result&&($.growl.notice({message:t.message}),attendee_export_state_check(t.public_checker,e))}})}),$body.on("keyup",".attendee-plugin-search-button",function(t){var e=$(this),i=window.location.pathname.split("/")[2],a=(e.closest(".box").attr("data-id"),e.closest(".box").attr("id").split("-")[3]);if(null!=i&&null!=a&&""!=i&&""!=a){var n=e.closest(".form-plugin-attendee-list");n.find(".form-plugin-table tbody tr").hide();var d=$.trim(e.val());n.find(".form-plugin-table tbody tr").each(function(){var t=!1,e=$(this),i=e.find("td.firstname").text().toUpperCase()+" "+e.find("td.lastname").text().toUpperCase();e.find("td").each(function(){$(this).hasClass("attendee-list-counting-col")||(-1!=$(this).text().toUpperCase().indexOf(d.toUpperCase())?t=!0:-1!=i.indexOf(d.toUpperCase())&&(t=!0))}),t&&e.show()}),n.find(".form-plugin-table tbody tr:visible").each(function(t){$(this).find("td.attendee-list-counting-col").html(t+1)})}}),$body.on("click",".form-plugin-attendee-list .form-plugin-table thead th",function(){if(!$(this).hasClass("attendee-list-counting-header")){f_sl_att_plugin*=-1;var t=$(this).prevAll().length,e=$(this).closest(".form-plugin-attendee-list").find(".form-plugin-table tbody"),i=$.trim($(this).attr("class"));$(this).closest(".form-plugin-attendee-list").find(".form-plugin-table thead th").removeClass("asc desc"),""==i||null==i?$(this).addClass("desc"):"asc"==i?$(this).addClass("desc"):"desc"==i?$(this).addClass("asc"):$(this).addClass("desc"),sortAttendeeList(f_sl_att_plugin,t,e)}}),$body.on("click",".form-plugin-clear-search",function(){var t=$(this).prev(".form-plugin-search");t.val(""),t.keyup()}),$body.on("click","#language-select a",function(){if(!$(this).hasClass("current")){var edited_answers=[];$("body").find(".form-question").each(function(){var t=$(this),e=t.find(".given-answer");if(e.length>0){var i=e.prop("type");if("radio"==i){if(e.is(":checked")){var a={},n=e.attr("name"),d=$("input[name="+n+"]:checked").attr("id");a.answer=!0,a.id=d,a.type=i,a.box_id=t.attr("id"),edited_answers.push(a)}}else if("checkbox"==i)e.each(function(){var e={};e.answer=$(this).is(":checked"),e.id=$(this).attr("id"),e.type=i,e.box_id=t.attr("id"),edited_answers.push(e)});else{var o=e.val();(a={}).answer=o,a.id=e.attr("id"),a.type=i,a.box_id=t.attr("id"),edited_answers.push(a)}}});var id=$(this).attr("data-id"),page_url=window.location.pathname.split("/")[2],csrf_token=$("input[name=csrfmiddlewaretoken]").val();$(".loader").show(),$.ajax({url:base_url+"/change-language/",type:"POST",data:{language_id:id,page_url:page_url,csrfmiddlewaretoken:csrf_token},success:function(result){if(result.success){var main_div=$("body").find("#content");$("body").find("ul.menu").html(result.menus),$("body").find("#language-select").replaceWith(result.languages),main_div.html(result.page),eval(result.js);for(var i=0;i<edited_answers.length;i++){var answer=edited_answers[i];"radio"==answer.type||"checkbox"==answer.type?$("#"+answer.box_id).find("#"+answer.id).prop("checked",answer.answer):$("#"+answer.box_id).find("#"+answer.id).val(answer.answer)}$(".loader").hide()}}})}})}),$(window).on("resize",addMarginForHeader),$(window).bind("load",function(){equalHeight($(".equal-height")),equalHeight($(".equal-height2")),footerAlign()}),$(window).resize(function(){equalHeight($(".equal-height")),equalHeight($(".equal-height2")),footerAlign()}),"eventdobby.com"==window.location.hostname&&(console.log=function(){}),$(document).ajaxStart(function(){pageDisable96(),$("body").find(".loader").show(),console.log("Triggered ajaxStart handler.")}),$(document).ajaxStop(function(){pageEnable69(),console.log("Triggered ajaxStop handler."),$("body").find(".loader").hide()}),$(document).ajaxSend(function(){console.log("Triggered ajaxSend handler.")}),$(document).ajaxError(function(){console.log("Triggered ajaxError handler.")}),$(document).ajaxComplete(function(){console.log("Triggered ajaxComplete handler.")}),$(document).ajaxSuccess(function(){cookie_counter=cookie_expire,console.log("Triggered ajaxSuccess handler.")}),Array.prototype.unique_answer=function(){for(var t=this.concat(),e=0;e<t.length;++e)for(var i=e+1;i<t.length;++i)t[e].id===t[i].id&&(console.log(t[e].id),console.log(t[i].answer),t[e].answer=t[i].answer,t.splice(i--,1));return t};var country_list=[{id:"AF",text:"Afghanistan"},{id:"AX",text:"Åland Islands"},{id:"AL",text:"Albania"},{id:"DZ",text:"Algeria"},{id:"AS",text:"American Samoa"},{id:"AD",text:"Andorra"},{id:"AO",text:"Angola"},{id:"AI",text:"Anguilla"},{id:"AQ",text:"Antarctica"},{id:"AG",text:"Antigua and Barbuda"},{id:"AR",text:"Argentina"},{id:"AM",text:"Armenia"},{id:"AW",text:"Aruba"},{id:"AU",text:"Australia"},{id:"AT",text:"Austria"},{id:"AZ",text:"Azerbaijan"},{id:"BS",text:"Bahamas"},{id:"BH",text:"Bahrain"},{id:"BD",text:"Bangladesh"},{id:"BB",text:"Barbados"},{id:"BY",text:"Belarus"},{id:"BE",text:"Belgium"},{id:"BZ",text:"Belize"},{id:"BJ",text:"Benin"},{id:"BM",text:"Bermuda"},{id:"BT",text:"Bhutan"},{id:"BO",text:"Bolivia, Plurinational State of"},{id:"BQ",text:"Bonaire, Sint Eustatius and Saba"},{id:"BA",text:"Bosnia and Herzegovina"},{id:"BW",text:"Botswana"},{id:"BV",text:"Bouvet Island"},{id:"BR",text:"Brazil"},{id:"IO",text:"British Indian Ocean Territory"},{id:"BN",text:"Brunei Darussalam"},{id:"BG",text:"Bulgaria"},{id:"BF",text:"Burkina Faso"},{id:"BI",text:"Burundi"},{id:"KH",text:"Cambodia"},{id:"CM",text:"Cameroon"},{id:"CA",text:"Canada"},{id:"CV",text:"Cape Verde"},{id:"KY",text:"Cayman Islands"},{id:"CF",text:"Central African Republic"},{id:"TD",text:"Chad"},{id:"CL",text:"Chile"},{id:"CN",text:"China"},{id:"CX",text:"Christmas Island"},{id:"CC",text:"Cocos (Keeling) Islands"},{id:"CO",text:"Colombia"},{id:"KM",text:"Comoros"},{id:"CG",text:"Congo"},{id:"CD",text:"Congo, the Democratic Republic of the"},{id:"CK",text:"Cook Islands"},{id:"CR",text:"Costa Rica"},{id:"CI",text:"Côte d'Ivoire"},{id:"HR",text:"Croatia"},{id:"CU",text:"Cuba"},{id:"CW",text:"Curaçao"},{id:"CY",text:"Cyprus"},{id:"CZ",text:"Czech Republic"},{id:"DK",text:"Denmark"},{id:"DJ",text:"Djibouti"},{id:"DM",text:"Dominica"},{id:"DO",text:"Dominican Republic"},{id:"EC",text:"Ecuador"},{id:"EG",text:"Egypt"},{id:"SV",text:"El Salvador"},{id:"GQ",text:"Equatorial Guinea"},{id:"ER",text:"Eritrea"},{id:"EE",text:"Estonia"},{id:"ET",text:"Ethiopia"},{id:"FK",text:"Falkland Islands (Malvinas)"},{id:"FO",text:"Faroe Islands"},{id:"FJ",text:"Fiji"},{id:"FI",text:"Finland"},{id:"FR",text:"France"},{id:"GF",text:"French Guiana"},{id:"PF",text:"French Polynesia"},{id:"TF",text:"French Southern Territories"},{id:"GA",text:"Gabon"},{id:"GM",text:"Gambia"},{id:"GE",text:"Georgia"},{id:"DE",text:"Germany"},{id:"GH",text:"Ghana"},{id:"GI",text:"Gibraltar"},{id:"GR",text:"Greece"},{id:"GL",text:"Greenland"},{id:"GD",text:"Grenada"},{id:"GP",text:"Guadeloupe"},{id:"GU",text:"Guam"},{id:"GT",text:"Guatemala"},{id:"GG",text:"Guernsey"},{id:"GN",text:"Guinea"},{id:"GW",text:"Guinea-Bissau"},{id:"GY",text:"Guyana"},{id:"HT",text:"Haiti"},{id:"HM",text:"Heard Island and McDonald Islands"},{id:"VA",text:"Holy See (Vatican City State)"},{id:"HN",text:"Honduras"},{id:"HK",text:"Hong Kong"},{id:"HU",text:"Hungary"},{id:"IS",text:"Iceland"},{id:"IN",text:"India"},{id:"ID",text:"Indonesia"},{id:"IR",text:"Iran, Islamic Republic of"},{id:"IQ",text:"Iraq"},{id:"IE",text:"Ireland"},{id:"IM",text:"Isle of Man"},{id:"IL",text:"Israel"},{id:"IT",text:"Italy"},{id:"JM",text:"Jamaica"},{id:"JP",text:"Japan"},{id:"JE",text:"Jersey"},{id:"JO",text:"Jordan"},{id:"KZ",text:"Kazakhstan"},{id:"KE",text:"Kenya"},{id:"KI",text:"Kiribati"},{id:"KP",text:"Korea, Democratic People's Republic of"},{id:"KR",text:"Korea, Republic of"},{id:"KW",text:"Kuwait"},{id:"KG",text:"Kyrgyzstan"},{id:"LA",text:"Lao People's Democratic Republic"},{id:"LV",text:"Latvia"},{id:"LB",text:"Lebanon"},{id:"LS",text:"Lesotho"},{id:"LR",text:"Liberia"},{id:"LY",text:"Libya"},{id:"LI",text:"Liechtenstein"},{id:"LT",text:"Lithuania"},{id:"LU",text:"Luxembourg"},{id:"MO",text:"Macao"},{id:"MK",text:"Macedonia, the Former Yugoslav Republic of"},{id:"MG",text:"Madagascar"},{id:"MW",text:"Malawi"},{id:"MY",text:"Malaysia"},{id:"MV",text:"Maldives"},{id:"ML",text:"Mali"},{id:"MT",text:"Malta"},{id:"MH",text:"Marshall Islands"},{id:"MQ",text:"Martinique"},{id:"MR",text:"Mauritania"},{id:"MU",text:"Mauritius"},{id:"YT",text:"Mayotte"},{id:"MX",text:"Mexico"},{id:"FM",text:"Micronesia, Federated States of"},{id:"MD",text:"Moldova, Republic of"},{id:"MC",text:"Monaco"},{id:"MN",text:"Mongolia"},{id:"ME",text:"Montenegro"},{id:"MS",text:"Montserrat"},{id:"MA",text:"Morocco"},{id:"MZ",text:"Mozambique"},{id:"MM",text:"Myanmar"},{id:"NA",text:"Namibia"},{id:"NR",text:"Nauru"},{id:"NP",text:"Nepal"},{id:"NL",text:"Netherlands"},{id:"NC",text:"New Caledonia"},{id:"NZ",text:"New Zealand"},{id:"NI",text:"Nicaragua"},{id:"NE",text:"Niger"},{id:"NG",text:"Nigeria"},{id:"NU",text:"Niue"},{id:"NF",text:"Norfolk Island"},{id:"MP",text:"Northern Mariana Islands"},{id:"NO",text:"Norway"},{id:"OM",text:"Oman"},{id:"PK",text:"Pakistan"},{id:"PW",text:"Palau"},{id:"PS",text:"Palestine, State of"},{id:"PA",text:"Panama"},{id:"PG",text:"Papua New Guinea"},{id:"PY",text:"Paraguay"},{id:"PE",text:"Peru"},{id:"PH",text:"Philippines"},{id:"PN",text:"Pitcairn"},{id:"PL",text:"Poland"},{id:"PT",text:"Portugal"},{id:"PR",text:"Puerto Rico"},{id:"QA",text:"Qatar"},{id:"RE",text:"Réunion"},{id:"RO",text:"Romania"},{id:"RU",text:"Russian Federation"},{id:"RW",text:"Rwanda"},{id:"BL",text:"Saint Barthélemy"},{id:"SH",text:"Saint Helena, Ascension and Tristan da Cunha"},{id:"KN",text:"Saint Kitts and Nevis"},{id:"LC",text:"Saint Lucia"},{id:"MF",text:"Saint Martin (French part)"},{id:"PM",text:"Saint Pierre and Miquelon"},{id:"VC",text:"Saint Vincent and the Grenadines"},{id:"WS",text:"Samoa"},{id:"SM",text:"San Marino"},{id:"ST",text:"Sao Tome and Principe"},{id:"SA",text:"Saudi Arabia"},{id:"SN",text:"Senegal"},{id:"RS",text:"Serbia"},{id:"SC",text:"Seychelles"},{id:"SL",text:"Sierra Leone"},{id:"SG",text:"Singapore"},{id:"SX",text:"Sint Maarten (Dutch part)"},{id:"SK",text:"Slovakia"},{id:"SI",text:"Slovenia"},{id:"SB",text:"Solomon Islands"},{id:"SO",text:"Somalia"},{id:"ZA",text:"South Africa"},{id:"GS",text:"South Georgia and the South Sandwich Islands"},{id:"SS",text:"South Sudan"},{id:"ES",text:"Spain"},{id:"LK",text:"Sri Lanka"},{id:"SD",text:"Sudan"},{id:"SR",text:"Suritext"},{id:"SJ",text:"Svalbard and Jan Mayen"},{id:"SZ",text:"Swaziland"},{id:"SE",text:"Sweden"},{id:"CH",text:"Switzerland"},{id:"SY",text:"Syrian Arab Republic"},{id:"TW",text:"Taiwan, Province of China"},{id:"TJ",text:"Tajikistan"},{id:"TZ",text:"Tanzania, United Republic of"},{id:"TH",text:"Thailand"},{id:"TL",text:"Timor-Leste"},{id:"TG",text:"Togo"},{id:"TK",text:"Tokelau"},{id:"TO",text:"Tonga"},{id:"TT",text:"Trinidad and Tobago"},{id:"TN",text:"Tunisia"},{id:"TR",text:"Turkey"},{id:"TM",text:"Turkmenistan"},{id:"TC",text:"Turks and Caicos Islands"},{id:"TV",text:"Tuvalu"},{id:"UG",text:"Uganda"},{id:"UA",text:"Ukraine"},{id:"AE",text:"United Arab Emirates"},{id:"GB",text:"United Kingdom"},{id:"US",text:"United States"},{id:"UM",text:"United States Minor Outlying Islands"},{id:"UY",text:"Uruguay"},{id:"UZ",text:"Uzbekistan"},{id:"VU",text:"Vanuatu"},{id:"VE",text:"Venezuela, Bolivarian Republic of"},{id:"VN",text:"Viet Nam"},{id:"VG",text:"Virgin Islands, British"},{id:"VI",text:"Virgin Islands, U.S."},{id:"WF",text:"Wallis and Futuna"},{id:"EH",text:"Western Sahara"},{id:"YE",text:"Yemen"},{id:"ZM",text:"Zambia"},{id:"ZW",text:"Zimbabwe"}];country_list.ids=[],country_list.texts=[];for(var idLookup={},textLookup={},country,i=0,len=country_list.length;i<len;i++)country=country_list[i],country_list.ids.push(country.id),country_list.texts.push(country.text),idLookup[country.text.toLowerCase()]=country.id,textLookup[country.id]=country.text;